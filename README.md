# DoodleJumpGame

### 目前完成

已经支持Qlearning, 也经过测试.

也支持保存训练结果, 之前是因为保存为json格式的问题, 字符和整型不对应

> json读取和存储都是只能认为字符, 而Qtable的dict要求是整型. 
>
> 使用pickle代替json, 对dict进行序列化.



当前默认是50把保存一次Qtable. 可在game.py中修改. 而且默认是自动装载. 没有对应文件或者读取出错, 都会重新训练

- Qdict.json :  Qtable的json版, 只能看不能用
- Qdict.txt:  Qtable的pickle版, 装载这个文件即可读取预先训练好的模型 (文件中只玩50把模型)
- QTable.txt: Q_model类的序列化, 理应而言, action(即Qtable)也应该保存在这里, 但是不知为何 pickle Q_model类时, 它不会保留action的信息. 但其他信息保留. 所以需要单独装载一次



关于状态空间的简化设置 (可在Qlearning.py中修改)

```
# 设置y轴距离, 简化状态空间
yDivision = 20
# 设置x轴距离, 简化状态空间
xDivision = 60
```

在上述标准下, 玩的局数到达500时, 所能挑选的平台足够好.

上述两个值调的越小, 训练时间越长, 但ai的反馈可能更好 (但好的程度估计会很小)



### 问题

- 分数图表, 展示训练过程, 如训练过程的平均分
- 玩家的图标 最好修改为左转时, 玩家图像也跟着左转, 右转时, 玩家图像也跟着右转.
- 玩家的图像需要修理, 玩家图像的一半都陷入踏板中, 才反弹.
- Qlearning对弹簧的处理不是很好, 由于是碰到平台才做判断, 碰到弹簧后, 由于周围的平台完全变化, 而玩家此时没有碰到平台, 所以没有预测, 只能原地下落. 

